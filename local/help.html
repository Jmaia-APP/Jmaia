<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحة المساعدة - چمعية</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Define custom CSS variables for easy color management */
        :root {
            --saudi-green: #006C35; /* Exact Saudi Flag Green */
            --subtle-saudi-green-stroke: rgba(0, 108, 53, 0.18); /* Subtle green for borders, like 0.5px */
            --dark-text: #1a202c; /* General dark text/icon color */
            --body-bg-color: #f7f7f7; /* Original light gray for body background */
            --hover-glow-color: rgba(0, 108, 53, 0.08); /* Even lighter transparent green for hover glow */
            
            /* Refined Modal Specific Colors & Shadows */
            --modal-shadow-color: rgba(0, 0, 0, 0.18); /* Softer outer shadow */
            --modal-inner-shadow: rgba(0, 0, 0, 0.08); /* Even more subtle inner shadow */

            --secondary-bg-color: #e8f5e9; /* Very light green for secondary actions/backgrounds */

            /* New colors for static shapes - even more subtle */
            --shape-color-light: rgba(0, 108, 53, 0.03); /* Extremely subtle transparent green */
            --shape-color-dark: rgba(0, 108, 53, 0.05); /* Slightly less subtle */
        }

        /* Custom styles for fine-tuning and specific icon shapes */
        body {
            font-family: 'Cairo', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--body-bg-color);
            color: var(--dark-text);
            overflow-x: hidden; /* Prevent horizontal scroll from translate-x-full */
        }
        
        /* Input field styling for "اسألني" */
        input.search-input { 
            outline: none !important;
            box-shadow: none !important;
            border: 1px solid #e0e0e0; /* Very light gray border */
            transition: border-color 0.2s ease-in-out;
            padding: 10px 16px;
            background-color: #ffffff; /* Explicitly white background for input */
            color: var(--dark-text); /* Ensure text is dark */
            font-size: 0.95rem; /* Slightly smaller font in input */
        }
        input.search-input::placeholder {
            color: #a0a0a0; /* Lighter placeholder text */
        }
        input.search-input:focus {
            border-color: var(--saudi-green) !important;
            box-shadow: 0 0 0 3px rgba(0, 108, 53, 0.1); /* Subtle focus ring */
        }

        /* Main content container shadow and radius */
        #mainContentContainer {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08); /* More refined shadow */
            border-radius: 18px; /* Slightly larger radius */
        }

        /* Sticky header (main page) */
        .main-header-sticky {
            background-color: #ffffff;
            border-bottom: 1px solid #f0f0f0; /* Very light border */
            box-shadow: 0 2px 8px rgba(0,0,0,0.03); /* Even lighter shadow */
        }

        /* Service Card Styling */
        .service-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.04); /* Lighter shadow */
            padding: 14px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            border: 1px solid #f0f0f0; /* Lighter default border */
            transition: transform 0.2s ease-in-out, border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            color: var(--dark-text);
            position: relative;
            overflow: hidden;
        }
        .service-card:hover {
            transform: translateY(-2px); /* Less pronounced lift */
            border-color: var(--subtle-saudi-green-stroke); /* Saudi green stroke */
            box-shadow: 0 5px 12px var(--hover-glow-color), 0 3px 8px rgba(0, 0, 0, 0.04); /* Refined hover shadow */
        }

        /* Static shapes for Service Cards */
        .service-card .static-shape {
            content: '';
            position: absolute;
            background-color: var(--shape-color-light); /* Even more subtle */
            pointer-events: none;
            z-index: 0;
            opacity: 0.7;
        }
        .service-card .static-shape.circle { border-radius: 50%; }
        .service-card .static-shape.square { border-radius: 4px; transform: rotate(20deg); }
        .service-card .static-shape.star { clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%); }

        /* Positioning and sizing for static shapes in service cards - reduced size for subtlety */
        .service-card:nth-child(1) .static-shape.circle { width: 25px; height: 25px; top: 15%; right: 8%; }
        .service-card:nth-child(1) .static-shape.square { width: 18px; height: 18px; bottom: 12%; left: 18%; }

        .service-card:nth-child(2) .static-shape.star { width: 22px; height: 22px; top: 18%; left: 12%; }
        .service-card:nth-child(2) .static-shape.circle { width: 30px; height: 30px; bottom: 8%; right: 15%; }

        .service-card:nth-child(3) .static-shape.square { width: 20px; height: 20px; top: 8%; right: 20%; }
        .service-card:nth-child(3) .static-shape.star { width: 25px; height: 25px; bottom: 8%; left: 8%; }

        .service-card:nth-child(4) .static-shape.circle { width: 25px; height: 25px; top: 12%; left: 8%; }
        .service-card:nth-child(4) .static-shape.square { width: 16px; height: 16px; bottom: 18%; right: 12%; }

        .service-card:nth-child(5) .static-shape.star { width: 24px; height: 24px; top: 10%; right: 15%; }
        .service-card:nth-child(5) .static-shape.circle { width: 20px; height: 20px; bottom: 10%; left: 20%; }

        .service-card:nth-child(6) .static-shape.square { width: 22px; height: 22px; top: 20%; left: 10%; }
        .service-card:nth-child(6) .static-shape.star { width: 17px; height: 17px; bottom: 10%; right: 20%; }

        .service-icon-wrapper {
            display: flex; justify-content: center; align-items: center;
            width: 52px; height: 52px; /* Slightly smaller icon wrapper */
            color: var(--saudi-green); /* Icons now Saudi Green */
            font-size: 2rem; /* Adjusted font size for icons */
            flex-shrink: 0;
            background-color: var(--secondary-bg-color); /* Light green background for icon */
            border-radius: 8px; /* Slightly rounded corners */
            z-index: 1;
        }
        .service-card span { z-index: 1; font-size: 0.95rem; /* Slightly smaller text */ }

        /* Common style for Contact buttons and Send Problem button for hover border */
        .interactive-button {
            border: 1px solid transparent;
            transition: border-color 0.2s ease-in-out, background-color 0.2s ease-in-out, color 0.2s ease-in-out;
            border-radius: 25px; /* Pill shape for contact buttons */
            padding: 0.75rem 1.5rem; /* Adjusted padding */
        }
        .interactive-button:hover {
            border-color: var(--saudi-green);
            background-color: var(--secondary-bg-color); /* Maintain light green hover */
            color: var(--saudi-green);
        }

        /* FAQ item styling with left arrow - and hover stroke */
        .faq-question {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.03); /* Lighter shadow */
            margin-bottom: 10px; /* Slightly less margin */
            padding: 14px 18px; /* Refined padding */
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            border: 1px solid #f0f0f0; /* Lighter default border */
            transition: background-color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
        }
        .faq-question span {
            flex-grow: 1;
            text-align: right;
            color: var(--dark-text);
            font-weight: 500; /* Slightly lighter weight */
            font-size: 0.95rem; /* Slightly smaller font */
        }
        .faq-question:hover {
            background-color: #fdfdfd; /* Very subtle background on hover */
            border-color: var(--subtle-saudi-green-stroke); /* Saudi green stroke */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05); /* Slightly more prominent shadow on hover */
        }

        /* Small arrow icon for FAQ items - black color */
        .faq-arrow-icon {
            color: #b0b0b0; /* Lighter arrow icon */
            transition: transform 0.2s ease;
        }
        .faq-question:hover .faq-arrow-icon {
             color: var(--saudi-green); /* Arrow turns green on hover */
             transform: translateX(-3px); /* Subtle shift */
        }


        /* About App item styling for hover stroke */
        .about-app-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.65rem 1rem; /* Slightly less padding */
            border: 1px solid transparent;
            transition: border-color 0.2s ease;
        }
        .about-app-item.border-b {
            border-bottom: 1px solid #e5e7eb;
        }
        .about-app-item:hover {
            border-color: var(--subtle-saudi-green-stroke); /* Saudi green stroke */
            background-color: #fdfdfd; /* Subtle hover background */
            border-radius: 8px; /* Add some border radius on hover */
        }
        .about-app-item:hover.border-b {
             border-bottom-color: var(--subtle-saudi-green-stroke); /* Saudi green stroke */
        }
        .about-app-item span {
            font-size: 0.95rem; /* Consistent smaller font */
            color: #4a5568; /* Slightly lighter text */
        }

        /* --- MODAL STYLING (GENERAL) --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex; justify-content: center; align-items: center;
            z-index: 1000;
            opacity: 0; visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .modal-overlay.open { opacity: 1; visibility: visible; }
        
        .modal-content {
            background-color: white;
            border-radius: 16px; /* Slightly larger radius */
            padding: 28px; /* More generous padding */
            max-width: 90%;
            width: 420px; /* Slightly wider modal */
            box-shadow: 0 12px 30px var(--modal-shadow-color), 0 5px 15px rgba(0, 0, 0, 0.08), inset 0 0 20px var(--modal-inner-shadow); /* Refined Shadow */
            position: relative;
            transform: scale(0.8) translateY(20px); /* Initial state for animation */
            opacity: 0;
            overflow: hidden;
            z-index: 1;
            /* Add transition for smooth closing animation */
            transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.4s ease;
        }

        /* Keyframes for the modal entry animation */
        @keyframes modal-fade-in {
            0% {
                opacity: 0;
                transform: scale(0.7) translateY(50px);
            }
            70% {
                opacity: 1;
                transform: scale(1.01) translateY(-5px); /* More subtle bounce */
            }
            100% {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        /* Apply the animation when modal is open */
        .modal-overlay.open .modal-content {
            animation: modal-fade-in 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }
        
        /* New class for modal closing animation */
        .modal-overlay .modal-content.closing {
            transform: translateY(100vh); /* Slide down */
            opacity: 0;
        }

        /* Static shapes for Modal - more subtle and smaller */
        .modal-content .static-shape {
            content: '';
            position: absolute;
            background-color: var(--shape-color-dark);
            pointer-events: none;
            z-index: 0;
            opacity: 0.4;
        }
        .modal-content .static-shape.circle { border-radius: 50%; }
        .modal-content .static-shape.square { border-radius: 4px; transform: rotate(45deg); }
        .modal-content .static-shape.star { clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%); }

        .modal-content .static-shape.circle.top-right { width: 80px; height: 80px; top: -20px; right: -20px; }
        .modal-content .static-shape.square.bottom-left { width: 60px; height: 60px; bottom: -15px; left: -15px; }
        .modal-content .static-shape.star.center-left { width: 40px; height: 40px; top: 30%; left: 0px; opacity: 0.2; }


        .modal-close-button {
            position: absolute;
            top: 15px; 
            right: 15px; /* This will be top-left visually in RTL */
            background: none;
            border: none;
            font-size: 1.8rem; /* Slightly larger close icon */
            cursor: pointer;
            color: #9ca3af; /* Lighter gray close icon */
            transition: color 0.2s ease, transform 0.2s ease;
            z-index: 10; /* Ensure it's on top */
        }
        /* Ensure all modal content is above static shapes */
        .modal-content h3, .modal-content p, .modal-content textarea, .modal-content button, .modal-content a, .modal-content .contact-option {
            position: relative;
            z-index: 1;
        }

        /* Specific styles for "Send Message" modal */
        #messageTextarea {
            width: 100%;
            height: 120px;
            padding: 12px;
            border: 1px solid #e0e0e0; /* Lighter border */
            border-radius: 8px;
            font-family: 'Cairo', sans-serif;
            font-size: 0.95rem; /* Smaller font */
            resize: vertical;
            outline: none;
            box-shadow: none;
            transition: border-color 0.2s ease-in-out;
            text-align: right;
            color: var(--dark-text);
        }
        #messageTextarea:focus {
            border-color: var(--saudi-green);
            box-shadow: 0 0 0 3px rgba(0, 108, 53, 0.1);
        }

        #sendMessageButton {
            background-color: var(--saudi-green);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            transition: background-color 0.2s ease, box-shadow 0.2s ease;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 108, 53, 0.2); /* Subtle green shadow */
        }
        #sendMessageButton:hover {
            background-color: #005A2B;
            box-shadow: 0 6px 15px rgba(0, 108, 53, 0.3); /* Stronger green shadow on hover */
        }

        #cancelMessageButton, #cancelProblemButton, #cancelContactOptionsButton { /* Apply to all cancel buttons */
            background-color: #f0f0f0; /* More neutral cancel background */
            color: #6B7280; /* Darker gray text for cancel */
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            transition: background-color 0.2s ease, color 0.2s ease;
            cursor: pointer;
            border: none; /* Ensure no border */
        }
        #cancelMessageButton:hover, #cancelProblemButton:hover, #cancelContactOptionsButton:hover {
            background-color: #e5e5e5;
            color: #4B5563;
        }

        /* Success Message Styling */
        #successMessage, #thankYouMessage {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #4CAF50; /* Slightly different green */
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.4s ease-out, transform 0.4s ease-out;
            transform: translateX(100%);
            z-index: 1100;
            font-size: 0.9rem; /* Smaller font for notification */
        }
        #successMessage.show, #thankYouMessage.show {
            opacity: 1;
            visibility: visible;
            transform: translateX(0);
        }
        
        /* --- NEW/IMPROVED STYLES FOR fullPageDetail --- */
        #fullPageDetail {
            background-color: var(--body-bg-color); /* General light background */
        }

        #fullPageDetail .max-w-md {
            width: 100%; 
            height: 100%;
            border-radius: 0; 
            box-shadow: none; 
            margin-top: 0; 
            display: flex;
            flex-direction: column; 
            background-color: transparent;
        }

        /* Header for detail page - NOW WITH TITLE NEXT TO BACK BUTTON */
        #fullPageDetail .full-page-header {
            background-color: #ffffff; /* Clean white background */
            border-bottom: 1px solid #f0f0f0; /* Subtle border at the bottom */
            position: sticky;
            top: 0;
            padding: 1rem 1.25rem; /* Adjusted padding */
            color: var(--dark-text);
            box-shadow: 0 2px 8px rgba(0,0,0,0.03); /* Very light shadow */
            display: flex;
            align-items: center;
            justify-content: flex-start; /* Align content to the right (start in RTL) */
            gap: 15px; /* Space between back button and title */
            overflow: hidden;
            min-height: 64px; /* Standard header height */
            z-index: 60;
        }

        /* For the back button in header */
        #fullPageDetail .header-back-button {
            color: var(--saudi-green); /* Saudi Green for back button */
            transition: transform 0.2s ease-in-out;
            font-size: 1.4rem; /* Slightly smaller icon */
            padding: 0.4rem; /* Adjusted padding */
            border-radius: 50%; /* Make it round */
            background-color: transparent; /* No background by default */
        }
        #fullPageDetail .header-back-button:hover {
            transform: translateX(3px) scale(1.05); /* More subtle movement */
            background-color: rgba(0, 108, 53, 0.05); /* Light green tint on hover */
        }

        #fullPageDetail .header-title {
            color: var(--dark-text);
            font-size: 1.1rem; /* Smaller title font for a cleaner look */
            font-weight: 600;
            /* Removed flex-grow: 1 and text-align: center; */
            white-space: nowrap; /* Prevent title from wrapping */
            overflow: hidden;
            text-overflow: ellipsis; /* Add ellipsis if title is too long */
        }

        /* Content area below header */
        /* IMPORTANT: Scrollbar on the right */
        #fullPageDetail .full-page-content {
            flex-grow: 1;
            overflow-y: auto;
            padding: 1.5rem; /* Standard padding */
            background-color: var(--body-bg-color);
            direction: ltr; /* This moves the scrollbar to the right */
        }
        /* Ensure direct children maintain RTL direction for text */
        #fullPageDetail .full-page-content > * {
            direction: rtl; /* Keep content RTL */
        }

        /* Card for Question & Answer (REVERTED TO ORIGINAL LAYOUT) */
        .qa-card {
            background-color: white;
            border-radius: 16px; /* Slightly larger radius */
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.07); /* Lighter, more elegant shadow */
            padding: 2.2rem; /* More generous padding */
            margin-bottom: 2rem;
            position: relative;
            text-align: center; /* Center content in the card */
        }

        /* Original styling for Question */
        #detailQuestionFull {
            font-size: 1.35rem; /* Significantly smaller font for question */
            line-height: 1.4; 
            font-weight: 700; 
            color: var(--dark-text);
            margin-bottom: 0.8rem; /* Space below question */
            letter-spacing: -0.02em; /* Slightly tighter letter spacing for elegance */
            text-align: center; /* Centered as per original */
        }

        /* Original styling for Downward arrow icon */
        .qa-card .down-arrow-icon {
            color: #d0d0d0; /* Very light gray */
            font-size: 2.2rem; /* Slightly smaller size */
            margin: 0.5rem auto 1.5rem auto; /* Centered, with space above and below */
            display: block; /* Ensure it behaves as a block for centering */
        }

        #detailAnswerFull {
            font-size: 0.95rem; /* Consistently smaller for readability */
            line-height: 1.7; 
            color: #4A5568; 
            text-align: justify; 
            margin-top: 1.5rem; /* Can keep this margin, or adjust for overall flow */
            padding: 0;
            font-weight: 400; 
        }

        /* Live Chat Section - Refined look */
        .live-chat-section {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05); /* Lighter shadow */
            padding: 1.5rem;
            margin-bottom: 2rem;
            text-align: center;
        }
        .live-chat-section p {
            font-size: 0.95rem; /* Smaller font */
            color: #555;
            margin-bottom: 0.75rem;
            display: flex; /* Use flexbox to align text and button */
            justify-content: center; /* Center the flex items */
            align-items: center;
            flex-wrap: wrap; /* Allow wrapping on smaller screens */
            gap: 20px; /* NEW: Increased gap between text and button */
        }

        /* Change from link to button style for opening modal */
        #openContactOptionsModalButton {
            background-color: var(--secondary-bg-color);
            color: var(--saudi-green);
            padding: 0.6rem 1.4rem; /* Slightly less padding */
            border-radius: 20px; /* Slightly smaller pill shape */
            font-weight: 600;
            text-decoration: none;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 2px 5px rgba(0,0,0,0.03); /* Lighter shadow */
            border: none; /* No border for button */
            cursor: pointer;
            display: inline-block; /* To allow padding/margin */
        }
        #openContactOptionsModalButton:hover {
            background-color: #dbebe3; /* More noticeable hover */
            transform: translateY(-1px); /* Less pronounced lift */
            box-shadow: 0 3px 6px rgba(0,0,0,0.08); /* Slightly stronger shadow on hover */
        }

        /* Contact Options Modal specific styling */
        .contact-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            border-radius: 12px;
            background-color: #f7f7f7; /* Lighter background for options */
            color: var(--dark-text);
            font-size: 0.9rem;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.2s ease-in-out;
            border: 1px solid #e0e0e0; /* Subtle border */
        }
        .contact-option:hover {
            background-color: #f0f0f0; /* Slightly darker on hover */
            border-color: var(--subtle-saudi-green-stroke); /* Saudi green stroke */
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.08);
        }

        /* Custom Icon Styling for Brand Icons - NOW USING IMAGES */
        .contact-option .icon-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 50px; /* Explicit width for consistent size */
            height: 50px; /* Explicit height */
            margin-bottom: 0.5rem;
            border-radius: 50%; /* Make it round if needed, but not strictly for images */
            overflow: hidden; /* Ensure image fits */
        }
        .contact-option .icon-wrapper img {
            width: 100%;
            height: 100%;
            object-fit: contain; /* Ensure the entire image is visible without cropping */
        }


        /* Feedback Section - Enhanced with Thumb Icons */
        .feedback-section {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05); /* Lighter shadow */
            padding: 1.5rem;
            text-align: center;
        }
        .feedback-section p {
            font-size: 0.95rem; /* Smaller font */
            color: #555;
            margin-bottom: 1rem;
        }
        .feedback-buttons {
            display: flex;
            justify-content: center;
            gap: 1.2rem; /* Slightly reduced gap */
        }
        .feedback-buttons button {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 80px; /* Smaller fixed width */
            height: 80px; /* Smaller fixed height */
            border-radius: 50%;
            font-size: 0.9rem; /* Smaller text inside button */
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 3px 8px rgba(0,0,0,0.06); /* Lighter initial shadow */
            position: relative;
            overflow: hidden;
        }

        .feedback-buttons button:hover {
            transform: translateY(-3px); /* Less pronounced lift */
            box-shadow: 0 6px 15px rgba(0,0,0,0.1); /* Stronger shadow on hover */
        }

        /* YES button */
        .feedback-buttons .yes-button {
            background-color: #e6ffe6;
            color: #007f00;
        }
        .feedback-buttons .yes-button:hover {
            background-color: #d0ffd0;
        }
        .feedback-buttons .yes-button svg {
            color: #007f00;
        }

        /* NO button */
        .feedback-buttons .no-button {
            background-color: #ffe6e6;
            color: #cc0000;
        }
        .feedback-buttons .no-button:hover {
            background-color: #ffd0d0;
        }
        .feedback-buttons .no-button svg {
            color: #cc0000;
        }

        /* Feedback Icons Styling - Made more prominent */
        .feedback-buttons button svg {
            font-size: 2.2rem; /* Slightly smaller icon size for refined look */
            margin-bottom: 0.2rem; /* Smaller space */
            filter: drop-shadow(0px 1px 1px rgba(0,0,0,0.08)); /* Lighter shadow for icon */
        }
        .feedback-buttons button span {
            font-size: 0.85rem; /* Even smaller text for the label */
            font-weight: 500;
        }

        /* Inner glow on hover for feedback buttons */
        .feedback-buttons button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle at center, rgba(255,255,255,0.3) 0%, transparent 80%); /* Slightly less intense glow */
            border-radius: 50%;
            transform: translate(-50%, -50%);
            opacity: 0;
            transition: width 0.3s ease, height 0.3s ease, opacity 0.3s ease;
        }
        .feedback-buttons button:hover::before {
            width: 110%; /* Slightly smaller expansion */
            height: 110%;
            opacity: 1;
        }

        /* Override specific Tailwind classes that might conflict with new design */
        #fullPageDetail .text-3xl { font-size: 1.35rem !important; } 
        #fullPageDetail .text-lg { font-size: 0.95rem !important; } 

        /* --- Custom styles for Feedback Problem Modal (NEWLY ADDED) --- */
        #feedbackProblemModal .modal-content {
            border: 1px solid var(--saudi-green); /* 1px Saudi green border */
        }
        #feedbackProblemModal .modal-content h3 {
            text-align: center !important; /* Center align title */
        }
        #problemTextarea {
            text-align: center !important; /* Center align placeholder and text */
        }

        .note-animate {
            position: relative;
            overflow: hidden;
            /* تدرج أخضر فاتح مع لمسة من الأخضر السعودي الفاتح */
            background: linear-gradient(270deg, #e0f7ef 0%, #90d1ca 30%, #06c35a 60%, #b2f7e2 100%);
            background-size: 300% 300%;
            animation: note-bg-move 4s ease-in-out infinite;
        }
        @keyframes note-bg-move {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* New styles for service modal */
        .service-modal-content {
            max-width: 400px;
            border-radius: 20px;
            overflow: hidden;
        }
        .service-modal-header {
            background-color: #006C35;
            color: white;
            padding: 1.5rem;
            text-align: center;
            position: relative; /* أضف هذا السطر */
            padding-top: 2.5rem; /* مساحة للزر */
        }
        .service-modal-body {
            padding: 1.5rem;
            background-color: white;
        }
        .feature-list {
            list-style-type: none;
            padding-right: 0;
        }
        .feature-list li {
            padding: 0.5rem 0;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: flex-start;
        }
        .feature-list li:last-child {
            border-bottom: none;
        }
        .feature-icon {
            color: #006C35;
            margin-left: 10px;
            font-size: 1.2rem;
        }
        
        /* Alert Modal Styles */
        #alertModal .modal-content {
            max-width: 350px;
            padding: 28px;
            border-radius: 16px;
            text-align: center;
        }
        #alertModalMessage {
            font-size: 1rem;
            line-height: 1.6;
            color: #4a5568;
            margin-bottom: 20px;
        }
        #closeAlertModalButton {
            background-color: #006C35;
            color: white;
            padding: 10px 24px;
            border-radius: 25px;
            font-weight: 600;
            transition: background-color 0.2s ease;
            border: none;
            cursor: pointer;
            min-width: 100px;
        }
        #closeAlertModalButton:hover {
            background-color: #005A2B;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div id="mainContentContainer" class="max-w-md mx-auto bg-white shadow-xl rounded-2xl overflow-hidden mt-4 md:mt-8">
        <div class="flex items-center p-4 border-b border-gray-100 bg-white  sticky top-0 z-50 main-header-sticky" onclick="history.back()">
            <button class="mr-2 text-gray-500 hover:text-gray-700 transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 transform rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                </svg>
            </button>
            <h1 class="text-xl font-bold text-gray-900 flex-grow text-right pr-4">المساعدة</h1>
        </div>

        <div class="flex items-center p-4 border-b border-gray-100 bg-white">
            <input type="text" placeholder="اسألني" class="flex-grow text-right rounded-lg bg-gray-50 search-input">
        </div>

        <div class="p-6 md:p-8 bg-gray-50">
            <h2 class="text-xl font-bold text-gray-900 mb-5 text-right">استكشف خدماتنا</h2>
            <div class="grid grid-cols-2 gap-4 mb-8">
                <div class="service-card" data-service="كارت چمعية">
                    <div class="service-icon-wrapper">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <span class="text-base font-medium">كارت چمعية</span>
                    <div class="static-shape circle"></div>
                    <div class="static-shape square"></div>
                </div>
                <div class="service-card" data-service="إدارية">
                    <div class="service-icon-wrapper">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"></path>
                        </svg>
                    </div>
                    <span class="text-base font-medium">إدارية</span>
                    <div class="static-shape star"></div>
                    <div class="static-shape circle"></div>
                </div>
                <div class="service-card" data-service="الحساب">
                    <div class="service-icon-wrapper">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                    </div>
                    <span class="text-base font-medium">الحساب</span>
                    <div class="static-shape square"></div>
                    <div class="static-shape star"></div>
                </div>
                <div class="service-card" data-service="الدفع">
                    <div class="service-icon-wrapper">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H7a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                        </svg>
                    </div>
                    <span class="text-base font-medium">الدفع</span>
                    <div class="static-shape circle"></div>
                    <div class="static-shape square"></div>
                </div>
                <div class="service-card" data-service="السحب">
                    <div class="service-icon-wrapper">
                        <!-- <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg> -->
                        <img src="./Assets/imgs/iconATM.svg" alt="">
                    </div>
                    <span class="text-base font-medium">السحب</span>
                    <div class="static-shape star"></div>
                    <div class="static-shape circle"></div>
                </div>
                <div class="service-card" data-service="العقد">
                    <div class="service-icon-wrapper">
                        <!-- <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                        </svg> -->

                        <img src="./Assets/imgs/contract 1.svg" alt="">
                    </div>
                    <span class="text-base font-medium">العقد</span>
                    <div class="static-shape square"></div>
                    <div class="static-shape star"></div>
                </div>
            </div>

            <h2 class="text-xl font-bold text-gray-900 mb-5 text-right">الأسئلة الشائعة</h2>
            <div class="space-y-3 mb-8">
                <div class="faq-question" data-question="أين توجد فروع چمعية؟" data-answer="تطبيق چمعية متوفر في جميع أنحاء المملكة العربية السعودية. يمكنك العثور على شركائنا في المدن الكبرى مثل الرياض، جدة، الدمام، مكة المكرمة، والمدينة المنورة، بالإضافة إلى العديد من المدن والمحافظات الأخرى. نسعى لتوسيع شبكتنا لتشمل كل بيت في السعودية.">
                    <span class="text-base font-medium">أين توجد فروع چمعية؟</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 faq-arrow-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                    </svg>
                </div>
                <div class="faq-question" data-question="لماذا أثق في المستخدمين الآخرين في چمعية المضمونة؟" data-answer="نحن نطبق معايير صارمة للتحقق من هوية المستخدمين لضمان بيئة آمنة وموثوقة. جميع التعاملات تخضع لمراقبة دقيقة، ونتخذ إجراءات فورية ضد أي سلوك غير لائق. يمكنك دائمًا الإبلاغ عن أي مخاوف لفريق الدعم لدينا.">
                    <span class="text-base font-medium">لماذا أثق في المستخدمين الآخرين في چمعية المضمونة؟</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 faq-arrow-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                    </svg>
                </div>
                <div class="faq-question" data-question="ما هي المستندات المطلوبة؟" data-answer="تعتمد المستندات المطلوبة على نوع الخدمة التي تطلبها في چمعية. بشكل عام، قد تحتاج إلى بطاقة الهوية الوطنية أو الإقامة السعودية سارية المفعول. لخدمات معينة، قد نطلب وثائق إضافية لضمان الامتثال لللوائح المحلية. سيتم توضيح ذلك لك عند اختيار الخدمة.">
                    <span class="text-base font-medium">ما هي المستندات المطلوبة؟</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 faq-arrow-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                    </svg>
                </div>
                <div class="faq-question" data-question="لماذا أثق في چمعية؟" data-answer="چمعية مبني على الشفافية والأمان، ملتزمين باللوائح السعودية. نستخدم أحدث تقنيات التشفير لحماية بياناتك، ونوفر دعمًا فنيًا على مدار الساعة. هدفنا هو بناء مجتمع موثوق به يوفر خدمات عالية الجودة لكل مستخدم.">
                    <span class="text-base font-medium">لماذا أثق في چمعية؟</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 faq-arrow-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                    </svg>
                </div>
                <div class="faq-question" data-question="هل هذا قانوني؟" data-answer="نعم، تطبيق چمعية يعمل وفقًا لجميع القوانين والأنظمة المعمول بها في المملكة العربية السعودية. نحن نلتزم بالمعايير الحكومية ونعمل بتراخيص رسمية لضمان تقديم خدمات آمنة وشرعية لجميع المستخدمين.">
                    <span class="text-base font-medium">هل هذا قانوني؟</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 faq-arrow-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                    </svg>
                </div>
                <div class="faq-question" data-question="كيف تستخدم كود الخصم؟" data-answer="لاستخدام كود الخصم في چمعية، بعد اختيارك للخدمة، انتقل إلى صفحة الدفع. ستجد خانة مخصصة لإدخال كود الخصم. قم بإدخال الكود واضغط على 'تطبيق' وسيتم خصم المبلغ تلقائيًا من الإجمالي قبل إتمام الدفع.">
                    <span class="text-base font-medium">كيف تستخدم كود الخصم؟</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 faq-arrow-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                    </svg>
                </div>
                <div class="faq-question" data-question="كيف تبعت كود الخصم لصاحبك؟" data-answer="لمشاركة كود الخصم مع صديقك، يمكنك ببساطة نسخ الكود الموجود في قسم 'عروضي' أو 'المكافآت' في التطبيق. بعد ذلك، قم بإرسال الكود لصديقك عبر الرسائل النصية، الواتساب، أو أي وسيلة تواصل أخرى، ليتمكن هو أيضًا من الاستفادة من الخصم.">
                    <span class="text-base font-medium">كيف تبعت كود الخصم لصاحبك؟</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 faq-arrow-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                    </svg>
                </div>
                <div class="faq-question" data-question="ما هو تطبيق چمعية؟" data-answer="تطبيق چمعية هو منصة رقمية رائدة في المملكة العربية السعودية، تهدف إلى تسهيل وتنظيم 'الجمعيات' (التعاونيات المالية) بين الأفراد والجماعات. يوفر التطبيق بيئة آمنة وشفافة لإدارة المدفوعات، السحوبات، وتتبع المشاركات لضمان حقوق الجميع.">
                    <span class="text-base font-medium">ما هو تطبيق چمعية؟</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 faq-arrow-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                    </svg>
                </div>
                <div class="faq-question" data-question="ما هي آلية التخصيص في چمعية؟" data-answer="في چمعية، يمكنك تخصيص إعدادات الجمعيات لتناسب احتياجاتك، مثل تحديد مبلغ القسط، وتاريخ السداد، وعدد المشاركين. كما نوفر خيارات لتخصيص الإشعارات والتنبيهات، لضمان تجربة مستخدم فريدة ومرنة تلبي متطلباتك الشخصية.">
                    <span class="text-base font-medium">ما هي آلية التخصيص في چمعية؟</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 faq-arrow-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                    </svg>
                </div>
            </div>
            <!-- نهاية الأسئلة الشائعة -->

            <!-- معلومات عن التطبيق (عنوان في المنتصف وخط واضح) -->
            <h2 class="text-xl font-bold text-gray-900 mb-7 text-center tracking-wide" style="font-family:'Cairo',sans-serif;letter-spacing:0.01em;">
                معلومات عن التطبيق
            </h2>
            <div class="space-y-3 mb-8 px-2 md:px-6">
                <div class="faq-question cursor-pointer mx-auto max-w-full"
                    style="margin-right:0.5rem;margin-left:0.5rem;"
                    onclick="window.location.href='about.html'">
                    <span class="text-base font-semibold" style="font-family:'Cairo',sans-serif;">عن ابلكيشن چمعية</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 faq-arrow-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <!-- سهم لليسار مثل الأسئلة الشائعة -->
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                    </svg>
                </div>
                <div class="faq-question cursor-pointer mx-auto max-w-full"
                    style="margin-right:0.5rem;margin-left:0.5rem;"
                    onclick="window.location.href='privacy.html'">
                    <span class="text-base font-semibold" style="font-family:'Cairo',sans-serif;">الشروط والأحكام</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 faq-arrow-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                    </svg>
                </div>
                <div class="faq-question cursor-pointer mx-auto max-w-full"
                    style="margin-right:0.5rem;margin-left:0.5rem;"
                    onclick="window.location.href='terms.html'">
                    <span class="text-base font-semibold" style="font-family:'Cairo',sans-serif;">سياسة الخصوصية</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 faq-arrow-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                    </svg>
                </div>
            </div>
            <!-- نهاية معلومات عن التطبيق -->

            <!-- تواصل معنا -->
            <h2 class="text-xl font-bold text-gray-900 mb-5 text-center">تواصل معنا</h2>
            <div class="flex justify-center gap-6 mb-4">
                <!-- مربع رسالة -->
                <button id="messageButton" class="flex flex-col items-center justify-center bg-white shadow-md border border-solid border-[#90d1ca] hover:shadow-lg hover:border-[#6bb5a9] transition-all duration-200 rounded-xl px-8 py-6 min-w-[120px] group">
                    <span class="flex items-center justify-center w-14 h-14 rounded-full bg-gray-100 mb-2 group-hover:bg-gray-200 transition-all">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.5
                                3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                        </svg>
                    </span>
                    <span class="text-base font-semibold text-gray-900">رسالة</span>
                </button>
                <!-- مربع اتصال (يفتح مودال تعليمات الاتصال) -->
                <button id="callButton" class="flex flex-col items-center justify-center bg-white shadow-md border border-solid border-[#90d1ca] hover:shadow-lg hover:border-[#6bb5a9] transition-all duration-200 rounded-xl px-8 py-6 min-w-[120px] group">
                    <span class="flex items-center justify-center w-14 h-14 rounded-full bg-gray-100 mb-2 group-hover:bg-gray-200 transition-all">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2H5a2 2 0 01-2-2V5z" />
                        </svg>
                    </span>
                    <span class="text-base font-semibold text-gray-900">اتصال</span>
                </button>
            </div>
            <!-- انبوت إرسال الملاحظة -->
            <div class="flex justify-center mb-8">
                <div class="w-full max-w-xs">
                    <button id="noteInput"
                        class="w-full flex items-center justify-center gap-2 rounded-full bg-[#006C35] px-5 py-3 shadow-md cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#90d1ca] transition-all duration-200 font-bold text-black text-center relative overflow-hidden note-animate"
                        style="font-size:1rem;">
                        <span class="flex items-center justify-center">
                            <!-- أيقونة متحركة -->
                            <svg class="animate-bounce mr-2" xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="none" viewBox="0 0 24 24" stroke="#fff" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/>
                            </svg>
                            <span class="w-full block text-center">اكتب ملاحظاتك</span>
                        </span>
                        <!-- موجة متحركة في الخلفية -->
                        <span class="absolute left-0 top-0 w-full h-full pointer-events-none z-0">
                            <svg class="w-full h-full animate-pulse" viewBox="0 0 200 40" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
                                <path d="M0 30 Q50 10 100 30 T200 30 V40 H0 Z" fill="#009e5c" opacity="0.18"/>
                            </svg>
                        </span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- مودال الرسالة (يظهر في المنتصف عند الضغط على رسالة) -->
    <div id="sendMessageModal" class="modal-overlay">
        <div class="modal-content" style="padding-top: 36px; border-radius: 20px; max-width:350px;">
            <h3 class="text-xl font-bold text-gray-900 mb-4 text-center">أرسل رسالة</h3>
            <textarea id="messageTextarea" placeholder="اكتب رسالتك هنا..." class="mb-4 w-full border border-gray-200 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#90d1ca]" style="border-radius: 12px;"></textarea>
            <div class="flex justify-end gap-3">
                <button id="cancelMessageButton" class="interactive-button" style="background-color:#90d1ca;color:#fff;">إلغاء</button>
                <button id="sendMessageButton" class="interactive-button" style="background-color:#006C35;color:#fff;">إرسال</button>
            </div>
            <div class="static-shape circle top-right"></div>
            <div class="static-shape square bottom-left"></div>
            <div class="static-shape star center-left"></div>
        </div>
    </div>

    <!-- مودال الملاحظة (يظهر في المنتصف عند الضغط على اكتب ملاحظاتك) -->
    <div id="noteModal" class="modal-overlay">
        <div class="modal-content" style="padding-top: 36px; border-radius: 20px; max-width:350px;">
            <h3 class="text-xl font-bold text-gray-900 mb-4 text-center">اكتب ملاحظتك</h3>
            <textarea id="noteTextarea" placeholder="اكتب ملاحظتك هنا..." class="mb-4 w-full border border-gray-200 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#90d1ca]" style="border-radius: 12px;"></textarea>
            <div class="flex justify-end gap-3">
                <button id="cancelNoteButton" class="interactive-button" style="background-color:#90d1ca;color:#fff;">إلغاء</button>
                <button id="sendNoteButton" class="interactive-button" style="background-color:#006C35;color:#fff;">إرسال</button>
            </div>
            <div class="static-shape circle top-right"></div>
            <div class="static-shape square bottom-left"></div>
            <div class="static-shape star center-left"></div>
        </div>
    </div>

    <!-- مودال الاتصال (يظهر في المنتصف عند الضغط على اتصال) -->
    <div id="callModal" class="modal-overlay">
        <div class="modal-content" style="padding-top: 36px; border-radius: 20px; max-width:350px;">
            <h3 class="text-xl font-bold text-gray-900 mb-4 text-center">الاتصال بالدعم</h3>
            <div class="mb-4 text-center text-gray-700">
                <div class="mb-2">
                    <span class="font-semibold">رقم الدعم:</span>
                    <a href="tel:+966512345678" class="text-[#06c35a] font-bold text-lg underline">+966512345678</a>
                </div>
                <div class="mb-2 text-sm text-gray-500">ساعات العمل: 9 صباحاً - 9 مساءً</div>
                <div class="mb-2 text-sm text-gray-500">يرجى تجهيز رقم عضويتك قبل الاتصال لتسهيل الخدمة.</div>
                <div class="mb-2 text-sm text-gray-500">الاتصال متاح عبر الجوال فقط داخل المملكة.</div>
            </div>
            <div class="flex justify-end gap-3">
                <button id="cancelCallButton" class="interactive-button" style="background-color:#90d1ca;color:#fff;">إغلاق</button>
            </div>
            <div class="static-shape circle top-right"></div>
            <div class="static-shape square bottom-left"></div>
            <div class="static-shape star center-left"></div>
        </div>
    </div>

    <!-- إشعار نجاح إرسال الملاحظة: يظهر فقط عند الإرسال -->
    <div id="noteSuccessMessage" class="pointer-events-none flex items-center gap-2 justify-center" style="background-color:#06c35a; color:white; top:70px; display:none; font-weight:bold; border-radius:12px; padding:12px 24px; position:fixed; right:50%; transform:translateX(50%); z-index:1200;">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
        </svg>
        لقد أرسلت ملاحظتك بنجاح!
    </div>
    <div id="successMessage" class="pointer-events-none">
        تم إرسال رسالتك بنجاح!
    </div>
    <div id="thankYouMessage" class="pointer-events-none">
        شكراً لك على ملاحظاتك!
    </div>

    <!-- مودال الأسئلة الشائعة (FAQ Modal) -->
    <div id="faqModal" class="modal-overlay" >
        <div class="modal-content relative" style="max-width: 400px; border-radius: 18px; direction: ltr;">
            <button id="closeFaqModalButton" class="absolute left-3 top-3 text-gray-400 hover:text-gray-700 text-2xl focus:outline-none" title="إغلاق">
                &times;
            </button>
            <h3 id="faqModalQuestion" class="text-lg font-bold text-gray-900 mb-4 text-center"></h3>
            <div id="faqModalAnswer" class="text-base text-gray-700 text-right leading-relaxed"></div>
        </div>
    </div>

    <!-- مودال بيانات الخدمة -->
    <div id="serviceModal" class="modal-overlay">
        <div class="modal-content service-modal-content p-0" style="max-width:420px;">
            <!-- Header -->
            <div class="flex items-center justify-between px-5 py-4 border-b bg-[#006C35] rounded-t-2xl relative">
                <h3 id="serviceModalTitle" class="text-lg md:text-xl font-bold text-black flex-1 text-right">كارت چمعية</h3>
                <button id="closeServiceModalButton" class="absolute left-4 top-1/2 -translate-y-1/2 text-black hover:text-gray-200 text-2xl focus:outline-none" title="إغلاق">
                    &times;
                </button>
            </div>
            <!-- Body -->
            <div id="serviceModalBody" class="service-modal-body bg-white px-5 py-6">
                <div>
                    <p class="mb-4 text-gray-700 text-right">كارت چمعية هو بطاقة رقمية أو فعلية تتيح لك الاستفادة من خدمات چمعية بسهولة وأمان. يمكنك من خلالها إدارة الجمعيات، دفع الأقساط، واستلام الأرباح أو المبالغ المستحقة.</p>
                    <h4 class="font-bold text-gray-900 mb-3 text-right">الأسئلة الشائعة:</h4>
                    <ul id="faq-list" class="space-y-2">
                        <li>
                            <div class="faq-item-div flex items-center gap-2 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition" onclick="showAnswer('إيه الأوراق المطلوبة عشان أقدر أقدم على طلب كارت چمعية؟', 'صورة البطاقة الشخصية، صورة شهادة الميلاد، إثبات محل الإقامة، صورة شخصية حديثة.')">
                                <svg class="toggle-arrow-icon w-5 h-5 text-[#006C35]" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path>
                                </svg>
                                <span class="question-text flex-1 text-right">إيه الأوراق المطلوبة عشان أقدر أقدم على طلب كارت چمعية؟</span>
                            </div>
                        </li>
                        <li>
                            <div class="faq-item-div flex items-center gap-2 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition" onclick="showAnswer('إزاي استلم كارت چمعية؟', 'بعد تقديم الطلب والموافقة عليه، يمكنك استلام الكارت من أقرب فرع لچمعية أو من خلال مندوب التوصيل.')">
                                <svg class="toggle-arrow-icon w-5 h-5 text-[#006C35]" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path>
                                </svg>
                                <span class="question-text flex-1 text-right">إزاي استلم كارت چمعية؟</span>
                            </div>
                        </li>
                        <li>
                            <div class="faq-item-div flex items-center gap-2 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition" onclick="showAnswer('إزاي أفعل كارت چمعية؟', 'يمكنك تفعيل الكارت من خلال تطبيق چمعية أو الاتصال بخدمة العملاء.')">
                                <svg class="toggle-arrow-icon w-5 h-5 text-[#006C35]" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path>
                                </svg>
                                <span class="question-text flex-1 text-right">إزاي أفعل كارت چمعية؟</span>
                            </div>
                        </li>
                        <!-- ... باقي الأسئلة بنفس النمط ... -->
                    </ul>
                </div>
            </div>
            <div class="static-shape circle top-right"></div>
            <div class="static-shape square bottom-left"></div>
        </div>
    </div>
    
    <!-- Alert Modal -->
    <div id="alertModal" class="modal-overlay">
        <div class="modal-content" style="padding-top: 36px; border-radius: 20px; max-width:350px;">
            <h3 id="alertModalTitle" class="text-xl font-bold text-gray-900 mb-4 text-center">تنبيه</h3>
            <p id="alertModalMessage" class="mb-4 text-gray-700 text-center"></p>
            <div class="flex justify-center">
                <button id="closeAlertModalButton" class="interactive-button" style="background-color:#006C35;color:#fff;">موافق</button>
            </div>
            <div class="static-shape circle top-right"></div>
            <div class="static-shape square bottom-left"></div>
        </div>
    </div>

    <script>
        // --- JavaScript for Modals ---
        const sendMessageModal = document.getElementById('sendMessageModal');
        const noteModal = document.getElementById('noteModal');
        const callModal = document.getElementById('callModal');
        const faqModal = document.getElementById('faqModal');
        const serviceModal = document.getElementById('serviceModal');
        const alertModal = document.getElementById('alertModal');
        const successMessage = document.getElementById('successMessage'); 
        const thankYouMessage = document.getElementById('thankYouMessage');
        const noteSuccessMessage = document.getElementById('noteSuccessMessage');
        const alertModalMessage = document.getElementById('alertModalMessage');
        const closeAlertModalButton = document.getElementById('closeAlertModalButton');

        function openModal(modalElement) {
            modalElement.classList.add('open');
            modalElement.querySelector('.modal-content').classList.remove('closing'); /* Ensure no closing animation on open */
            document.body.style.overflow = 'hidden';
        }

        function closeModal(modalElement, clearTextarea = false) {
            const modalContent = modalElement.querySelector('.modal-content');
            modalContent.classList.add('closing'); // Trigger closing animation
            
            // Wait for the animation to complete before hiding
            modalContent.addEventListener('transitionend', function handler() {
                modalElement.classList.remove('open');
                modalContent.classList.remove('closing'); // Clean up the closing class
                document.body.style.overflow = '';
                if (clearTextarea && modalElement.querySelector('textarea')) {
                    modalElement.querySelector('textarea').value = '';
                }
                modalContent.removeEventListener('transitionend', handler); // Remove listener to avoid multiple triggers
            }, { once: true }); // Ensure handler runs only once
        }

        // showNotification: إظهار إشعار النجاح فقط عند الإرسال
        function showNotification(messageElement) {
            messageElement.style.display = 'block';
            messageElement.classList.add('show');
            setTimeout(() => {
                messageElement.classList.remove('show');
                messageElement.style.display = 'none';
            }, 3000);
        }
        
        // Function to show alert in modal instead of browser alert
        function showAlert(message, title = "تنبيه") {
            alertModalMessage.textContent = message;
            if (title) {
                document.getElementById('alertModalTitle').textContent = title;
            }
            openModal(alertModal);
        }

        // Send Message Modal
        const messageButton = document.getElementById('messageButton');
        const closeSendMessageModalButton = document.getElementById('closeSendMessageModalButton'); 
        const cancelMessageButton = document.getElementById('cancelMessageButton');
        const sendMessageActualButton = document.getElementById('sendMessageButton'); 
        const messageTextarea = document.getElementById('messageTextarea');

        if (messageButton) {
            messageButton.addEventListener('click', () => openModal(sendMessageModal));
        }
        if (closeSendMessageModalButton) {
            closeSendMessageModalButton.addEventListener('click', () => closeModal(sendMessageModal, true));
        }
        if (cancelMessageButton) {
            cancelMessageButton.addEventListener('click', () => {
                closeModal(sendMessageModal, true);
                // ارجع للصفحة الرئيسية (اخفاء المودال فقط)
                document.body.style.overflow = '';
            });
        }
        if (sendMessageModal) {
            sendMessageModal.addEventListener('click', (event) => {
                if (event.target === sendMessageModal) {
                    closeModal(sendMessageModal, true);
                    document.body.style.overflow = '';
                }
            });
        }
        if (sendMessageActualButton) {
            sendMessageActualButton.addEventListener('click', () => {
                if (messageTextarea.value.trim() !== "") {
                    console.log("Sending message:", messageTextarea.value);
                    closeModal(sendMessageModal, true);
                    showNotification(successMessage);
                } else {
                    showAlert('الرجاء كتابة رسالتك.');
                }
            });
        }

        // Note Modal
        const noteInput = document.getElementById('noteInput');
        const cancelNoteButton = document.getElementById('cancelNoteButton');
        const sendNoteButton = document.getElementById('sendNoteButton');
        const noteTextarea = document.getElementById('noteTextarea');

        if (noteInput) {
            noteInput.addEventListener('click', () => openModal(noteModal));
        }
        if (cancelNoteButton) {
            cancelNoteButton.addEventListener('click', () => closeModal(noteModal, true));
        }
        if (noteModal) {
            noteModal.addEventListener('click', (event) => {
                if (event.target === noteModal) {
                    closeModal(noteModal, true);
                }
            });
        }
        if (sendNoteButton) {
            sendNoteButton.addEventListener('click', () => {
                if (noteTextarea.value.trim() !== "") {
                    closeModal(noteModal, true);
                    showNotification(noteSuccessMessage);
                } else {
                    showAlert('الرجاء كتابة الملاحظة.');
                }
            });
        }

        // Call Modal
        const callButton = document.getElementById('callButton');
        const cancelCallButton = document.getElementById('cancelCallButton');
        if (callButton) {
            callButton.addEventListener('click', () => openModal(callModal));
        }
        if (cancelCallButton) {
            cancelCallButton.addEventListener('click', () => closeModal(callModal));
        }
        if (callModal) {
            callModal.addEventListener('click', (event) => {
                if (event.target === callModal) {
                    closeModal(callModal);
                }
            });
        }

        // --- FAQ Modal Logic ---
        const faqModalQuestion = document.getElementById('faqModalQuestion');
        const faqModalAnswer = document.getElementById('faqModalAnswer');
        const closeFaqModalButton = document.getElementById('closeFaqModalButton');

        // Show FAQ modal with question/answer
        document.querySelectorAll('.faq-question').forEach(item => {
            item.addEventListener('click', event => {
                // Prevent default and stop propagation for modal
                event.preventDefault();
                event.stopPropagation();
                const question = item.dataset.question;
                const answer = item.dataset.answer;
                if (question && answer) {
                    faqModalQuestion.textContent = question;
                    faqModalAnswer.textContent = answer;
                    faqModal.classList.add('open');
                    document.body.style.overflow = 'hidden';
                }
            });
        });

        // Close FAQ modal
        function closeFaqModal() {
            faqModal.classList.remove('open');
            document.body.style.overflow = '';
        }
        if (closeFaqModalButton) {
            closeFaqModalButton.addEventListener('click', closeFaqModal);
        }
        if (faqModal) {
            faqModal.addEventListener('click', (event) => {
                if (event.target === faqModal) {
                    closeFaqModal();
                }
            });
        }

        // --- Service Modal Logic ---
        const serviceModalTitle = document.getElementById('serviceModalTitle');
        const serviceModalBody = document.getElementById('serviceModalBody');
        const closeServiceModalButton = document.getElementById('closeServiceModalButton');

        // بيانات كل خدمة
        const serviceDetails = {
            "كارت چمعية": `
                <div>
                    <p class="mb-4 text-gray-700">كارت چمعية هو بطاقة رقمية أو فعلية تتيح لك الاستفادة من خدمات چمعية بسهولة وأمان. يمكنك من خلالها إدارة الجمعيات، دفع الأقساط، واستلام الأرباح أو المبالغ المستحقة.</p>
                    <h4 class="font-bold text-gray-900 mb-3">مزايا الكارت:</h4>
                    <ul class="feature-list">
                        <li>
                            <span class="feature-icon">✓</span>
                            <span>إدارة جميع الجمعيات من مكان واحد</span>
                        </li>
                        <li>
                            <span class="feature-icon">✓</span>
                            <span>سهولة في عمليات الدفع والسحب</span>
                        </li>
                        <li>
                            <span class="feature-icon">✓</span>
                            <span>دعم فني متواصل لأي استفسار</span>
                        </li>
                    </ul>
                </div>
            `,
            "إدارية": `
                <div>
                    <p class="mb-4 text-gray-700">الخدمات الإدارية في چمعية تمكنك من إدارة جميع جوانب الجمعيات التعاونية بشكل احترافي وفقًا للأنظمة السعودية.</p>
                    <h4 class="font-bold text-gray-900 mb-3">المميزات الرئيسية:</h4>
                    <ul class="feature-list">
                        <li>
                            <span class="feature-icon">✓</span>
                            <span>إنشاء وتعديل الجمعيات بسهولة</span>
                        </li>
                        <li>
                            <span class="feature-icon">✓</span>
                            <span>إدارة الأعضاء والصلاحيات</span>
                        </li>
                        <li>
                            <span class="feature-icon">✓</span>
                            <span>تتبع السداد وإصدار الإشعارات</span>
                        </li>
                        <li>
                            <span class="feature-icon">✓</span>
                            <span>توليد التقارير الإدارية</span>
                        </li>
                        <li>
                            <span class="feature-icon">✓</span>
                            <span>مزامنة مع الأنظمة الحكومية السعودية</span>
                        </li>
                    </ul>
                    <div class="mt-6 bg-blue-50 p-4 rounded-lg">
                        <h4 class="font-bold text-blue-800 mb-2">دعم الأنظمة السعودية:</h4>
                        <p class="text-blue-700">نلتزم باللوائح والأنظمة السعودية الخاصة بالجمعيات التعاونية، ونوفر حلولاً متوافقة مع وزارة الموارد البشرية والتنمية الاجتماعية.</p>
                    </div>
                </div>
            `,
            "الحساب": `
                <div>
                    <p class="mb-4 text-gray-700">صفحة الحساب تتيح لك إدارة بياناتك الشخصية، تغيير كلمة المرور، مراجعة سجل العمليات المالية، وضبط إعدادات الإشعارات.</p>
                    <h4 class="font-bold text-gray-900 mb-3">المميزات:</h4>
                    <ul class="feature-list">
                        <li>
                            <span class="feature-icon">✓</span>
                            <span>تحديث البيانات الشخصية</span>
                        </li>
                        <li>
                            <span class="feature-icon">✓</span>
                            <span>إدارة الحسابات البنكية</span>
                        </li>
                        <li>
                            <span class="feature-icon">✓</span>
                            <span>عرض سجل العمليات المالية</span>
                        </li>
                    </ul>
                </div>
            `,
            "الدفع": `
                <div>
                    <p class="mb-4 text-gray-700">قسم الدفع يوفر لك طرق دفع متعددة وآمنة لسداد أقساط الجمعيات أو أي رسوم أخرى.</p>
                    <h4 class="font-bold text-gray-900 mb-3">المميزات:</h4>
                    <ul class="feature-list">
                        <li>
                            <span class="feature-icon">✓</span>
                            <span>دفع الأقساط إلكترونياً بسهولة</span>
                        </li>
                        <li>
                            <span class="feature-icon">✓</span>
                            <span>متابعة حالة الدفعات السابقة</span>
                        </li>
                        <li>
                            <span class="feature-icon">✓</span>
                            <span>إشعارات فورية عند استلام الدفعة</span>
                        </li>
                    </ul>
                </div>
            `,
            "السحب": `
                <div>
                    <p class="mb-4 text-gray-700">خدمة السحب تتيح لك طلب سحب أرباحك أو مستحقاتك من الجمعيات مباشرة إلى حسابك البنكي.</p>
                    <h4 class="font-bold text-gray-900 mb-3">المميزات:</h4>
                    <ul class="feature-list">
                        <li>
                            <span class="feature-icon">✓</span>
                            <span>طلب سحب الأموال في أي وقت</span>
                        </li>
                        <li>
                            <span class="feature-icon">✓</span>
                            <span>متابعة حالة السحب من التطبيق</span>
                        </li>
                        <li>
                            <span class="feature-icon">✓</span>
                            <span>إشعار عند تحويل المبلغ</span>
                        </li>
                    </ul>
                </div>
            `,
            "العقد": `
                <div>
                    <p class="mb-4 text-gray-700">قسم العقد يوفر لك نسخة إلكترونية من عقد الجمعية، يوضح حقوق وواجبات جميع الأطراف.</p>
                    <h4 class="font-bold text-gray-900 mb-3">المميزات:</h4>
                    <ul class="feature-list">
                        <li>
                            <span class="feature-icon">✓</span>
                            <span>عرض بنود العقد بشكل واضح</span>
                        </li>
                        <li>
                            <span class="feature-icon">✓</span>
                            <span>إمكانية تحميل أو طباعة العقد</span>
                        </li>
                        <li>
                            <span class="feature-icon">✓</span>
                            <span>تحديث العقد عند أي تعديل</span>
                        </li>
                    </ul>
                </div>
            `
        };

        document.querySelectorAll('.service-card').forEach(card => {
            card.addEventListener('click', function (e) {
                const title = card.dataset.service;
                if (title) {
                    serviceModalTitle.textContent = title;
                    serviceModalBody.innerHTML = serviceDetails[title] || "<p>لا توجد تفاصيل متاحة لهذه الخدمة حالياً.</p>";
                    serviceModal.classList.add('open');
                    document.body.style.overflow = 'hidden';
                }
            });
        });

        if (closeServiceModalButton) {
            closeServiceModalButton.addEventListener('click', () => {
                serviceModal.classList.remove('open');
                document.body.style.overflow = '';
            });
        }
        if (serviceModal) {
            serviceModal.addEventListener('click', (event) => {
                if (event.target === serviceModal) {
                    serviceModal.classList.remove('open');
                    document.body.style.overflow = '';
                }
            });
        }
        
        // Alert Modal Handling
        if (closeAlertModalButton) {
            closeAlertModalButton.addEventListener('click', () => closeModal(alertModal));
        }
        if (alertModal) {
            alertModal.addEventListener('click', (event) => {
                if (event.target === alertModal) {
                    closeModal(alertModal);
                }
            });
        }
        
        // Function to show answers in alert modal
        function showAnswer(question, answer) {
            showAlert(`${question}\n\n${answer}`, question);
        }
        
        // Prevent service modal from opening on page load
        document.addEventListener('DOMContentLoaded', function() {
            serviceModal.classList.remove('open');
        });
    </script>
</body>
</html>